#define XTAL_FREQ 11000000
#include <delay.h>
#include <pic.h>

__CONFIG(HS & DUNPROT & WDTDIS & PWRTDIS & BORDIS & LVPDIS & DUNPROT & DEBUGDIS & WRTEN);

__EEPROM_DATA(0x3F,0x48,0x88,0x48,0x3F,0xFF,0x91,0x91);
__EEPROM_DATA(0x91,0x6E,0x7E,0x81,0x81,0x81,0x42,0xFF);
__EEPROM_DATA(0x81,0x81,0x81,0x7E,0xFF,0x91,0x91,0x91);
__EEPROM_DATA(0x81,0xFF,0x88,0x88,0x88,0x80,0x7E,0x81);
__EEPROM_DATA(0x81,0x89,0x6E,0xFF,0x10,0x10,0x10,0xFF);
__EEPROM_DATA(0x00,0x81,0xFF,0x81,0x00,0x82,0x81,0x81);
__EEPROM_DATA(0x81,0xFE,0xFF,0x18,0x24,0x42,0x81,0xFF);
__EEPROM_DATA(0x01,0x01,0x01,0x01,0xFF,0x40,0x20,0x40);
__EEPROM_DATA(0xFF,0xFF,0x40,0x3C,0x02,0xFF,0x7E,0x81);
__EEPROM_DATA(0x81,0x81,0x7E,0xFF,0x90,0x90,0x90,0x60);
__EEPROM_DATA(0x7E,0x81,0x85,0x82,0x7D,0xFF,0x88,0x8C);
__EEPROM_DATA(0x8A,0x71,0x62,0x91,0x91,0x91,0x4E,0x80);
__EEPROM_DATA(0x80,0xFF,0x80,0x80,0xFE,0x01,0x01,0x01);
__EEPROM_DATA(0xFF,0xFC,0x02,0x01,0x02,0xFC,0xFE,0x01);
__EEPROM_DATA(0x02,0x01,0xFE,0xC3,0x24,0x18,0x24,0xC3);
__EEPROM_DATA(0xC0,0x20,0x1F,0x20,0xC0,0x83,0x85,0x89);
__EEPROM_DATA(0x91,0xE1,0x20,0x20,0x20,0x20,0x20,0x20);
__EEPROM_DATA(0x43,0x6F,0x70,0x79,0x72,0x69,0x67,0x68);
__EEPROM_DATA(0x74,0x20,0x28,0x43,0x29,0x20,0x46,0x72);
__EEPROM_DATA(0x61,0x6E,0x73,0x20,0x53,0x63,0x68,0x72);
__EEPROM_DATA(0x65,0x75,0x64,0x65,0x72,0x20,0x20,0x20);
__EEPROM_DATA(0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20);
__EEPROM_DATA(0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20);
__EEPROM_DATA(0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20);
__EEPROM_DATA(0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20);
__EEPROM_DATA(0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20);
__EEPROM_DATA(0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20);
__EEPROM_DATA(0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20);
__EEPROM_DATA(0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20);
__EEPROM_DATA(0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20);
__EEPROM_DATA(0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20);
__EEPROM_DATA(0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20);


void on_init( void );
void vertraging ( void );
void lees_letter( char letter);
void lees_zin(const char *zin);

void on_init( void )
{
  TRISA = 0x00;
  TRISB = 0x00;
  TRISC = 0x00;
  OPTION = 0x00;
  INTCON = 0x00;
  PIE1 = 0x00;
  PIR1 = 0x00;
  PIE2 = 0x00;
  PIR2 = 0x00;
  T1CON = 0x00;
  T2CON = 0x00;
  CCP1CON = 0x00;
  ADCON1 = 0x06;
}


void vertraging ( void )
{
DelayUs(250);
DelayUs(250);
DelayUs(250);
}

void lees_letter( char letter)
{
	char x;
	x=(letter-65)*5;
		PORTC = eeprom_read(x);
		vertraging();
		PORTC = eeprom_read(x+1);
		vertraging();
		PORTC = eeprom_read(x+2);
		vertraging();
		PORTC = eeprom_read(x+3);
		vertraging();
		PORTC = eeprom_read(x+4);
		vertraging();
		PORTC = 0;
		vertraging();
}

void lees_zin(const char *zin)
{
	char i=0;
	char j=0;
	while(zin[i]!=0)
	{
		if(zin[i]!=0x20)lees_letter(zin[i]);
		else for(j=0;j<6;j++)vertraging();
		i++;
	}
}

void main(void)
{
	on_init();
	while(1)
	{
		lees_zin("JAN PAUL POSMA");
	}

}
